#!/bin/sh

# HOME DIRECTORY
ln -sf $PWD/.asoundrc  $HOME
ln -sf $PWD/.fonts     $HOME
ln -sf $PWD/.gitconfig $HOME
ln -sf $PWD/.inputrc   $HOME
ln -sf $PWD/.lynxrc    $HOME
ln -sf $PWD/.mpd       $HOME
ln -sf $PWD/.ncmpcpp   $HOME
ln -sf $PWD/.tmux.conf $HOME
ln -sf $PWD/.xinitrc   $HOME
ln -sf $PWD/.z*        $HOME

# ~/.config
if [ ! -d $HOME/.config ]; then
        mkdir $HOME/.config
fi

ln -sf $PWD/.config/* $HOME/.config/

# create symlink to .vim if target path doesn't exist
if [ ! -d $HOME/.config/nvim ]; then
        ln -sf $PWD/.vim $HOME/.config/nvim
else
        rm -r $HOME/.config/nvim
        ln -sf $PWD/.vim $HOME/.config/nvim
fi

if [ ! -d $HOME/.vim ]; then
        ln -sf $PWD/.vim $HOME
else
        rm -r $HOME/.vim
        ln -sf $PWD/.vim $HOME
fi

# Setup Command-T
if [ ! -f $HOME/.vim/pack/bundle/opt/command-t/ruby/command-t/ext/command-t/ext.so ]; then
        cd $HOME/.vim/pack/bundle/opt/command-t/ruby/command-t/ext/command-t/
        ruby extconf.rb
        make
fi

# Install skim
if [ ! -f $HOME/.zsh/vendor/skim/bin/sk ]; then
        cd $HOME/.zsh/vendor/skim
        ./install
fi
